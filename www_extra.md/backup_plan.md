<!-- scratchpad.md : 2025-04-30 æ›´æ–° -->

é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨ã‚¹ã‚¯ãƒ©ãƒƒãƒãƒ‘ãƒƒãƒ‰ã‚’ç¢ºèªã—ã€åŒæ™‚ä¸¦è¡Œã§é€²ã‚ã‚‰ã‚Œã‚‹ã‚¿ã‚¹ã‚¯ã‚’æ´—ã„å‡ºã—ã¾ã™ã€‚

### åŒæ™‚ä¸¦è¡Œã‚¿ã‚¹ã‚¯ä¸€è¦§

#### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºï¼ˆcursoræ‹…å½“ï¼‰
- [ ] **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆStep 40ï¼‰**
  - [ ] ã‚«ãƒ³ãƒãƒ³ãƒœãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆå®Ÿè£…
  - [ ] ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆå®Ÿè£…
  - [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã®ãƒ†ã‚¹ãƒˆå®Ÿè£…

#### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºï¼ˆwindsurfæ‹…å½“ï¼‰
- [ ] **Docker & Fly.io ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆStep 181-185ï¼‰**
  - [ ] Dockerfileã®ä½œæˆ
  - [ ] ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã®è¨­å®š
  - [ ] Fly.ioãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
  - [ ] ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†
  - [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®è¨­å®š

#### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºï¼ˆwindsurfæ‹…å½“ï¼‰
- [ ] **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ã®ä¿®æ­£ï¼ˆStep 60.2ï¼‰**
  - [ ] Timelineã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¿®æ­£
  - [ ] ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºã®æ”¹å–„
  - [ ] å‹ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£

#### 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºï¼ˆwindsurfæ‹…å½“ï¼‰
- [ ] **åˆ‡ã‚Œã¦ã„ã‚‹ãƒªãƒ³ã‚¯ãƒ»ç”»é¢ã®ä¿®æ­£ï¼ˆStep 60.4ï¼‰**
  - [ ] ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã®ç¢ºèªã¨ä¿®æ­£
  - [ ] 404ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã®ç‰¹å®šã¨ä¿®æ­£
  - [ ] ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æœ€é©åŒ–

#### 5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºï¼ˆwindsurfæ‹…å½“ï¼‰
- [ ] **ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹å•é¡Œã®ä¿®æ­£ï¼ˆå…¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**
  - [ ] `@/`ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ç›¸å¯¾ãƒ‘ã‚¹ã¸ã®å¤‰æ›
  - [ ] ç‰¹ã«`useProjects.ts`ã®ä¿®æ­£
  - [ ] å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ä¿®æ­£

### ã‚¿ã‚¹ã‚¯ã®å„ªå…ˆé †ä½ã¨æ‹…å½“è€…

1. **æœ€å„ªå…ˆã‚¿ã‚¹ã‚¯**
   - [ ] cursor: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆStep 40ï¼‰
   - [ ] windsurf: Docker & Fly.io ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆStep 181-185ï¼‰

2. **æ¬¡å„ªå…ˆã‚¿ã‚¹ã‚¯**
   - [ ] windsurf: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ã®ä¿®æ­£ï¼ˆStep 60.2ï¼‰
   - [ ] windsurf: åˆ‡ã‚Œã¦ã„ã‚‹ãƒªãƒ³ã‚¯ãƒ»ç”»é¢ã®ä¿®æ­£ï¼ˆStep 60.4ï¼‰

3. **ä¸¦è¡Œã—ã¦é€²ã‚ã‚‹ã‚¿ã‚¹ã‚¯**
   - [ ] windsurf: ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹å•é¡Œã®ä¿®æ­£

### é€²æ—ç®¡ç†
- å„ã‚¿ã‚¹ã‚¯ã®é€²æ—ã¯`skratchpad.md`ã§ç®¡ç†
- å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯ã¯[x]ã§ãƒãƒ¼ã‚¯
- é‡è¦ãªé€²æ—ã¯é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã«ã‚‚åæ˜ 

ã“ã‚Œã‚‰ã®ã‚¿ã‚¹ã‚¯ã‚’åŒæ™‚ä¸¦è¡Œã§é€²ã‚ã‚‹ã“ã¨ã§ã€é–‹ç™ºåŠ¹ç‡ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å„æ‹…å½“è€…ãŒè‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ã«é›†ä¸­ã—ã¤ã¤ã€å¿…è¦ã«å¿œã˜ã¦é€£æºã‚’å–ã‚ŠãªãŒã‚‰é€²ã‚ã¦ã„ãã¾ã™ã€‚







# ChatGPT-o3 ãŒã€github ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã¦åˆ†æã—ãŸãƒ¬ãƒãƒ¼ãƒˆï¼š vol.1

### ğŸ ã„ã¾èµ·ãã¦ã„ã‚‹ã“ã¨ â€” ä¸€è¡Œã¾ã¨ã‚
`npm run dev` â†’ **Next.js ã® App Router ãŒ 500 (Internal Server Error)**  
åŸå› ã¯ **Server Component ã¨ã—ã¦è§£é‡ˆã•ã‚ŒãŸ `LinkValidator.tsx` ãŒ `document` ã‚’è§¦ã‚Šã«è¡Œãã€`document is not defined` ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥**ã€‚

---

## 1. ã‚¨ãƒ©ãƒ¼ã‚’å†ç¾ã—ã¦ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹æ‰‹é †
```bash
cd commit-coach/apps/frontend
pnpm install          # ä¾å­˜é–¢ä¿‚ã‚’ãã‚ãˆã‚‹
pnpm dev              # = turbo run dev
#  âœ ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ãã¨ 500
#  âœ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¯
#    ReferenceError: document is not defined
#      at getAllLinks â€¦/components/LinkValidator.tsx:11:23
```
è©³ã—ãè¦‹ã‚‹ã¨ **stackâ€trace ã®å…ˆé ­ãŒ `components/LinkValidator.tsx`** ã«ãªã£ã¦ã„ã¾ã™ã€‚ ([commit_coach_ver02/apps/frontend/components/LinkValidator.tsx at feat/unsafe-analysis Â· ttaarroo77/commit_coach_ver02 Â· GitHub](https://github.com/ttaarroo77/commit_coach_ver02/blob/feat/unsafe-analysis/apps/frontend/components/LinkValidator.tsx))  

---

## 2. æ ¹æœ¬åŸå› 
| èª¤ã£ã¦ã„ã‚‹ãƒã‚¤ãƒ³ãƒˆ | ãªãœå•é¡Œã«ãªã‚‹ã‹ |
|-------------------|----------------|
| `LinkValidator.tsx` ã® 1 è¡Œç›®ã« `\'use client\'` ãŒç„¡ã„ | App Router ã§ã¯ **â€œ`use client` ãŒç„¡ã„ â‡’ Server Componentâ€** ã¨è¦‹ãªã•ã‚Œã‚‹ãŸã‚ã€SSR ä¸­ã« `document` ã‚¢ã‚¯ã‚»ã‚¹ã§è½ã¡ã‚‹ |
| `lib/utils/linkValidation.ts` ã§ã‚‚ `document` ã‚’ç›´æ¥å‚ç…§ | ã“ã¡ã‚‰ã¯ `LinkValidator` ã®å­ãªã®ã§ã€è¦ªãŒ Client åŒ–ã•ã‚Œã‚Œã°è§£æ±º |
| ï¼ˆå‰¯æ¬¡çš„ï¼‰æœªä½¿ç”¨ã® `NextRouter` import | ãƒ“ãƒ«ãƒ‰è­¦å‘Šã«ãªã‚‹ã ã‘ã ãŒã€ã“ã®æ©Ÿä¼šã«å‰Šé™¤æ¨å¥¨ |

> **å…¬å¼ä»•æ§˜**  
> `use client` ã‚’ä»˜ã‘ã‚‹ã¨ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨å­å­«ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å®Ÿè¡Œã•ã‚Œã€`document` ã‚„ `window` ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚ ([Directives: use client - Next.js](https://nextjs.org/docs/app/api-reference/directives/use-client?utm_source=chatgpt.com), [Rendering: Client Components - Next.js](https://nextjs.org/docs/app/building-your-application/rendering/client-components?utm_source=chatgpt.com))  
> ä»˜ã‘å¿˜ã‚Œã‚‹ã¨ â€œ`document is not defined`â€ ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å…¸å‹ä¾‹ã€‚ ([use client throwing "ReferenceError: document is not defined" when ...](https://github.com/vercel/next.js/issues/44014?utm_source=chatgpt.com))  

---

## 3. ä¿®å¾©ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆæ‰€è¦ 3 åˆ†ï¼‰

1. **`apps/frontend/components/LinkValidator.tsx`** ã®å…ˆé ­ã«ä¸‹è¨˜ 1 è¡Œã‚’è¿½åŠ   
   ```ts
   'use client'
   ```
2. **æœªä½¿ç”¨ import ã‚’å‰Šé™¤**  
   `lib/utils/linkValidation.ts` å…ˆé ­ã®  
   ```ts
   import { NextRouter } from 'next/router'
   ```  
   ã‚’å‰Šé™¤ï¼ˆApp Router ã§ã¯ `next/navigation` ç³»ã‚’ä½¿ã†ï¼‰ã€‚
3. **é–‹ç™ºã‚µãƒ¼ãƒã‚’å†èµ·å‹•**  
   ```bash
   pnpm dev
   # âœ”ï¸ 500 ãŒæ¶ˆãˆã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   ```
4. **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰**  
   ```bash
   pnpm test # = turbo run test (Vitest)
   ```

---

## 4. è¿½åŠ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆãƒãƒã‚ŠãŒã¡ãªãƒã‚¤ãƒ³ãƒˆï¼‰

| ãƒã‚§ãƒƒã‚¯é …ç›® | ãƒ¡ãƒ¢ |
|--------------|------|
| **Supabase ã®ç’°å¢ƒå¤‰æ•°** | `lib/supabase.ts` ã¯ URL / ANON_KEY ãŒç„¡ã„ã¨ throw ã—ã¾ã™ã€‚é–‹ç™ºæ™‚ã¯ `.env.local` ã«ãƒ€ãƒŸãƒ¼ã§ã‚‚è‰¯ã„ã®ã§<br>`NEXT_PUBLIC_SUPABASE_URL=http://localhost`<br>`NEXT_PUBLIC_SUPABASE_ANON_KEY=dummy` ã‚’å¿…ãšç½®ãã€‚ ([commit_coach_ver02/apps/frontend/lib/supabase.ts at feat/unsafe-analysis Â· ttaarroo77/commit_coach_ver02 Â· GitHub](https://github.com/ttaarroo77/commit_coach_ver02/blob/feat/unsafe-analysis/apps/frontend/lib/supabase.ts)) |
| **Client å°‚ç”¨ãƒ­ã‚¸ãƒƒã‚¯** | `window`, `document`, `localStorage` ç­‰ã‚’è§¦ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å¿…ãš `'use client'` ã‚’æ›¸ãã‹ã€`dynamic(() => import('./X'), { ssr: false })` ã§é…å»¶èª­è¾¼ã™ã‚‹ |
| **Router API** | App Router ã§ã¯ `next/router` ã§ã¯ãªã `next/navigation` (`useRouter`, `redirect` ãªã©) |
| **Turbo / Pnpm** | Node 20 ä»¥ä¸Š + pnpm 8.9 ä»¥ä¸Šã‚’æ¨å¥¨ï¼ˆ`packageManager` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨åˆã‚ã›ã‚‹ï¼‰ |

---

## 5. ã¾ã¨ã‚
1. **`LinkValidator.tsx` ã‚’ Client Component ã«å¤‰æ›´**ï¼ˆ `'use client'` è¿½åŠ ï¼‰ã€‚  
2. ã“ã‚Œã§ `document is not defined` ãŒè§£æ¶ˆ â†’ **Internal Server Error ãŒæ¶ˆãˆã‚‹**ã€‚  
3. Supabase ç’°å¢ƒå¤‰æ•°ãªã©ã€ä»–ã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥è¦å› ã‚‚ `.env.local` ã§äº‹å‰ã«æ½°ã—ã¦ãŠãã¨å†ç™ºé˜²æ­¢ã«ãªã‚‹ã€‚

ä»¥ä¸Šã®å¯¾å‡¦ã§ **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚’å†é–‹**ã§ãã¾ã™ã€‚ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼





# ChatGPT-o3 ãŒã€github ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¦‹ã¦åˆ†æã—ãŸãƒ¬ãƒãƒ¼ãƒˆï¼š vol.2
## ğŸ” ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ **cat** ã§ç¢ºèªã™ã¹ãã‹ â”€ æ—©è¦‹è¡¨

| å„ªå…ˆåº¦ | å ´æ‰€ | ç›®çš„ | ä»£è¡¨çš„ãª `cat` ã‚³ãƒãƒ³ãƒ‰ä¾‹ |
|--------|------|------|---------------------------|
| â˜…â˜…â˜… | **ãƒªãƒã‚¸ãƒˆãƒªç›´ä¸‹** | ãƒ«ãƒ¼ãƒˆã® Babel è¨­å®šãŒã‚ã‚Œã° **Next.js å…¨ä½“ãŒ Babel ãƒ¢ãƒ¼ãƒ‰ã«è½ã¡ã‚‹** | `cat .babelrc\ncat babel.config.js` |
| â˜…â˜…â˜… | **apps/frontend/** | ã‚¢ãƒ—ãƒªå˜ä½“ã§ã‚‚ Babel è¨­å®šãŒã‚ã‚‹ã‹ç¢ºèª | `cat apps/frontend/.babelrc\ncat apps/frontend/babel.config.js` |
| â˜…â˜…â˜† | **packages/** ã‚„ **config/** | Turborepo ã§å…±æœ‰ Babel è¨­å®šã‚’ç½®ãã‚±ãƒ¼ã‚¹ | `cat packages/*/babel*.{js,ts,mjs}` |
| â˜…â˜…â˜† | **apps/frontend/next.config.{js,mjs}** | `compiler:` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼`swcMinify` ã®æœ‰ç„¡ç¢ºèª | `cat apps/frontend/next.config.mjs` |
| â˜…â˜†â˜† | **font ã‚’ import ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** | èª¤ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»æ—§ API ä½¿ç”¨ã‚’æ¢ã™ | `grep -R "next/font/google" apps/frontend/src` |

> **ãƒã‚¤ãƒ³ãƒˆ**  
> `next/font/google` ã¯ **Next.js ã® SWC ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å‰æ**ã€‚  
> ã„ãšã‚Œã‹ 1 ã¤ã§ã‚‚ Babel è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã¨ **Next.js ã¯è‡ªå‹•çš„ã« Babel ãƒ«ãƒ¼ãƒˆã¸ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**ã—ã€  
> `Syntax error: "next/font" requires SWC although Babel is being used â€¦` ãŒç™ºç«ã—ã¾ã™ã€‚  ([Resolving "Babel and `next/font` Conflict" in Next.js](https://nextjs.org/docs/messages/babel-font-loader-conflict?utm_source=chatgpt.com), [[NextJS] next/font" requires SWC although Babel is being used due ...](https://github.com/facebook/stylex/issues/190?utm_source=chatgpt.com), ["next/font" requires SWC although Babel is being used due to a ...](https://stackoverflow.com/questions/75959591/next-font-requires-swc-although-babel-is-being-used-due-to-a-custom-babel-conf?utm_source=chatgpt.com), [Styled Components and Babel Using Error : r/nextjs - Reddit](https://www.reddit.com/r/nextjs/comments/101bto2/styled_components_and_babel_using_error/?utm_source=chatgpt.com))  


---

## ğŸ› ï¸ æ¨å®šã•ã‚Œã‚‹ä¿®æ­£ãƒ‘ã‚¿ãƒ¼ãƒ³

### âœ… ã‚‚ã£ã¨ã‚‚ç¢ºå®Ÿï¼š**Babel è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ç„¡ãã™**

1. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚‹**  
   ```bash
   git mv .babelrc .babelrc.backup || true
   git mv babel.config.js babel.config.backup.js || true
   ```
2. **é–‹ç™ºã‚µãƒ¼ãƒå†èµ·å‹•**  
   ```bash
   cd apps/frontend
   pnpm dev
   ```
   *ã‚¨ãƒ©ãƒ¼ãŒæ¶ˆãˆã‚Œã°æ ¹æœ¬è§£æ±º*ã€‚  
   Storybook ã‚„ Jest ã ã‘ Babel ãŒè¦ã‚‹å ´åˆã¯ **ç’°å¢ƒå¤‰æ•°ã§åˆ†å²**ã™ã‚‹ã‹å„ãƒ„ãƒ¼ãƒ«å›ºæœ‰ã® Babel è¨­å®šã«é–‰ã˜è¾¼ã‚ã¾ã™ã€‚

### âš™ï¸ Babel ã‚’æ®‹ã™å¿…è¦ãŒã‚ã‚‹å ´åˆ

| ã‚¹ãƒ†ãƒƒãƒ— | å†…å®¹ |
|----------|------|
| 1 | **ã™ã¹ã¦ã® Babel è¨­å®šã§ `presets: ['next/babel']` ã‚’æœ€ä¸Šä½ã«ç½®ã**<br/>```js\nmodule.exports = { presets: ['next/babel'], plugins: [/* å¿…è¦æœ€ä½é™ */] }\n``` |
| 2 | **Next.js å´ã§ SWC ã‚’æ˜ç¤ºçš„ã«æœ‰åŠ¹åŒ–**ï¼ˆ`next.config.js`ï¼‰<br/>```js\nmodule.exports = { compiler: { swcMinify: true } }\n``` |
| 3 | **ãƒ•ã‚©ãƒ³ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’è§¦ã‚‹ Babel ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å¤–ã™**<br/>ãŸã¨ãˆã° `babel-plugin-react-native-web` ã‚„ `module-resolver` ãŒ `next/font` import ã‚’æ›¸ãæ›ãˆã¦ã„ãªã„ã‹ç¢ºèª |
| 4 | **Storybookï¼Jest ã‹ã‚‰åˆ†é›¢**<br/>`.babelrc` â†’ `.babelrc.test` ã«ãƒªãƒãƒ¼ãƒ ã—ã€å„ãƒ„ãƒ¼ãƒ«å´ã§ `--config-file` æŒ‡å®š |

---

## âœï¸ å…·ä½“çš„ãªå·®åˆ†ã‚µãƒ³ãƒ—ãƒ«ï¼ˆOption: Babel config å‰Šé™¤ï¼‰

```diff
- // .babelrc
- {
-   "presets": ["next/babel"],
-   "plugins": ["styled-components", "module-resolver"]
- }
+ // â† ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã‹ã‚‰å‰Šé™¤
```

```diff
// next.config.mjs
export default {
-  // ä»–é …ç›®...
+  compiler: {
+    // SWC ã§ styled-components ã‚’ä½¿ã„ãŸã„å ´åˆã ã‘
+    styledComponents: true
+  }
}
```

---

## ğŸ§ª å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. `npm run dev` ã§ **font ã‚¨ãƒ©ãƒ¼ãŒæ¶ˆãˆã‚‹ã“ã¨ã‚’ç¢ºèª**  
2. ãƒšãƒ¼ã‚¸ã§ãƒ•ã‚©ãƒ³ãƒˆãŒé©ç”¨ã•ã‚Œã¦ã„ã‚Œã° OK  
3. `next build && next start` ã§ã‚‚åŒæ§˜ã«ãƒ“ãƒ«ãƒ‰ãŒé€šã‚‹ã‹ç¢ºèª  
4. Storybook / Jest ã‚’ä½¿ã†ãªã‚‰ã€ãã‚Œãã‚Œã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã— Babel è¨­å®šãŒæ©Ÿèƒ½ã™ã‚‹ã‹ç¢ºèª  

---

## ã¾ã¨ã‚

- **cat ã§è¦³å¯Ÿã™ã¹ãã¯ Babel è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã¨ `next.config.*`ã€‚**  
- `next/font/*` ã¯ SWC å‰æãªã®ã§ã€**Babel ã‚’æ®‹ã™ã¨ç«¶åˆ**ã—ã¾ã™ã€‚  
- æœ€é€Ÿè§£æ¶ˆã¯ **Babel è¨­å®šã‚’ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã‹ã‚‰æ’é™¤**ã— SWC ã«ä¸€æœ¬åŒ–ã€‚  
- Babel ãŒå¿…è¦ãªå ´åˆã¯ **`presets: ['next/babel']` ã‚’ãƒˆãƒƒãƒ—ã«ç½®ãã€ãƒ•ã‚©ãƒ³ãƒˆã¨ã‹ã¡åˆã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å¤–ã™**ã€‚  

ã“ã‚Œã§ **Next.js ã®ãƒ•ã‚©ãƒ³ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼ Ã— Babel ç«¶åˆå•é¡Œ**ã¯è§£æ±ºã§ãã‚‹ã¯ãšã§ã™ã€‚é ‘å¼µã£ã¦ãã ã•ã„ï¼
