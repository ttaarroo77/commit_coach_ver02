### コミットコーチ - 要件定義書

## 1. アプリケーション概要

**コミットコーチ** は、開発者がタスクを効率的に管理し、先延ばしを防止するために、直感的なタスク管理機能とAIコーチング機能を提供するWebアプリケーションです。プロジェクト、タスクグループ、タスク、サブタスクの階層構造で作業を整理し、期限管理と進捗の可視化によって生産性向上をサポートします。

## 2. 基本情報

- **アプリ名**: コミットコーチ
- **概要**: 開発者の先延ばし習慣をAIコーチングとタスク可視化で解決するタスク管理アプリ
- **ターゲットユーザー**:

- 開発者: タスク管理が苦手 / 課題: 締め切り直前に慌てる / 解決策: AIコーチング
- プロジェクトマネージャー: 進捗把握が難しい / 課題: チーム全体の進捗管理 / 解決策: プロジェクト可視化



- **提供価値**:

1. 先延ばし防止: AIコーチングによるモチベーション維持と進捗管理
2. 生産性向上: タスクの可視化とプロジェクト進捗の明確化



- **ビジネスゴール**: 開発者向けSaaSとして月間アクティブユーザー1万人獲得（フリーミアムモデル）
- **成功指標 (KPI)**: MAU、タスク完了率、ユーザー継続率


## 3. 技術スタック

- **フロントエンド**:

- React
- TypeScript
- Next.js (App Router)
- Tailwind CSS
- react-beautiful-dnd (ドラッグ&ドロップ機能)
- Lucide React (アイコン)
- date-fns (日付操作)



- **バックエンド**:

- Node.js
- Next.js API Routes
- Supabase (認証・データベース)



- **AI/ML**:

- OpenAI API (GPT-4)
- AI SDK



- **インフラ**:

- Vercel (ホスティング)
- Supabase (バックエンド)





## 4. 機能要件

### 4.1 コア機能

| 機能 | 説明 | 対応ユーザー課題
|-----|-----|-----
| タスク管理 | 階層構造（プロジェクト、タスクグループ、タスク、サブタスク）でタスクを視覚的に管理 | タスクの優先順位付けと進捗管理の難しさ
| AIコーチング | タスク完了を促すAIアシスタントとの対話 | モチベーション維持と先延ばし防止
| プロジェクト管理 | 複数プロジェクトの進捗状況を一元管理 | プロジェクト全体の進捗把握の難しさ
| 期限管理 | タスクの期限設定と視覚的な期限切れ警告 | 締め切り管理の難しさ
| ドラッグ&ドロップ | タスクの並べ替えと移動の直感的操作 | タスク優先順位の柔軟な調整


### 4.2 詳細機能

#### 4.2.1 タスク管理機能

- タスクの追加、編集、削除
- タスクの階層構造（プロジェクト > タスクグループ > タスク > サブタスク）
- タスクの完了状態管理（チェックボックス）
- タスクの展開/折りたたみ
- タスクの期限設定（日付と時刻）
- 期限切れタスクの視覚的警告
- タスクの並べ替え（ドラッグ&ドロップ）
- 完了タスクの自動整理（下部への移動）
- 期限順でのタスクソート


#### 4.2.2 AIコーチング機能

- AIチャットインターフェース
- タスク進捗に基づいたアドバイス
- モチベーション維持のための対話
- タスク分解サポート
- 音声入力によるタスク追加


#### 4.2.3 プロジェクト管理機能

- プロジェクトの作成と管理
- プロジェクト別タスク一覧
- プロジェクトの色分け
- プロジェクト進捗の可視化
- プロジェクト間のタスク移動


#### 4.2.4 ダッシュボード機能

- 今日のタスク表示
- 未定のタスク表示
- 現在時刻の表示
- タスクのスケジュール管理
- タスクの時系列表示


## 5. 画面構成

### 5.1 主要画面

1. **ランディングページ**

1. アプリ概要説明
2. 主要機能の紹介
3. 新規登録/ログインへの導線



2. **ダッシュボード**

1. 今日のタスク一覧
2. 未定のタスク一覧
3. 現在時刻表示
4. AIコーチングセクション



3. **プロジェクト画面**

1. プロジェクト情報
2. タスクグループ一覧
3. タスク一覧
4. サブタスク一覧
5. AIコーチングセクション



4. **マイページ**

1. ユーザー情報表示
2. アカウント設定



5. **設定画面**

1. AIコーチ設定
2. 通知設定
3. アプリ設定





### 5.2 共通コンポーネント

- **サイドバー**

- プロジェクト一覧
- ナビゲーションリンク



- **AIチャット**

- メッセージ表示エリア
- 入力フォーム
- 送信ボタン



- **タスクアイテム**

- チェックボックス
- タスクタイトル
- 期限表示
- アクションボタン



- **日付ピッカー**

- 日付入力フィールド
- カレンダー表示





## 6. データモデル

### 6.1 主要エンティティ

1. **ユーザー**

1. id: UUID
2. email: String
3. password: String (ハッシュ化)
4. name: String
5. created_at: Timestamp



2. **プロジェクト**

1. id: UUID
2. user_id: UUID (外部キー)
3. title: String
4. color: String
5. due_date: Timestamp
6. completed: Boolean
7. created_at: Timestamp



3. **タスクグループ**

1. id: UUID
2. project_id: UUID (外部キー)
3. title: String
4. expanded: Boolean
5. due_date: Timestamp
6. completed: Boolean
7. order: Integer
8. created_at: Timestamp



4. **タスク**

1. id: UUID
2. task_group_id: UUID (外部キー)
3. title: String
4. expanded: Boolean
5. due_date: Timestamp
6. completed: Boolean
7. order: Integer
8. created_at: Timestamp



5. **サブタスク**

1. id: UUID
2. task_id: UUID (外部キー)
3. title: String
4. completed: Boolean
5. order: Integer
6. created_at: Timestamp



6. **AIチャットメッセージ**

1. id: UUID
2. user_id: UUID (外部キー)
3. role: String (user/assistant)
4. content: String
5. timestamp: Timestamp





## 7. 非機能要件

### 7.1 性能要件

- ページロード時間: 2秒以内
- API応答時間: 500ms以内
- 同時接続ユーザー: 1000人以上


### 7.2 セキュリティ要件

- ユーザー認証: JWT
- データ暗号化: HTTPS
- パスワード: bcryptによるハッシュ化
- CSRF対策
- XSS対策


### 7.3 可用性要件

- サービス稼働率: 99.9%
- バックアップ: 日次
- 障害復旧時間: 4時間以内


### 7.4 拡張性要件

- マイクロサービスアーキテクチャ
- 水平スケーリング対応
- API設計: RESTful


### 7.5 ユーザビリティ要件

- レスポンシブデザイン
- アクセシビリティ対応 (WCAG 2.1 AA)
- 多言語対応 (日本語、英語)
- ダークモード対応


## 8. 開発計画

### 8.1 フェーズ分け

| フェーズ | 期間 | 主要タスク
|-----|-----|-----
| 企画・設計 | 2週間 | 要件定義、ワイヤーフレーム作成、技術選定
| MVP開発 | 6週間 | コア機能実装、基本UI構築
| テスト | 2週間 | 単体テスト、統合テスト、ユーザーテスト
| リリース準備 | 1週間 | デプロイ設定、ドキュメント作成
| 初期リリース | 1日 | 本番環境へのデプロイ
| フィードバック収集 | 2週間 | ユーザーフィードバック収集、分析
| 改善・拡張 | 継続的 | 機能追加、バグ修正、パフォーマンス最適化


### 8.2 優先順位

1. **P0 (Must Have)**

1. ユーザー認証
2. 基本的なタスク管理
3. プロジェクト管理
4. 基本UI



2. **P1 (Should Have)**

1. AIコーチング
2. ドラッグ&ドロップ
3. 期限管理
4. レスポンシブデザイン



3. **P2 (Could Have)**

1. タスク分解機能
2. 音声入力
3. 通知機能
4. データ分析



4. **P3 (Won't Have)**

1. チーム連携機能
2. GitHub連携
3. モバイルアプリ
4. 高度なレポート機能





## 9. 将来的な拡張計画

### 9.1 短期的拡張（3-6ヶ月）

- 通知システムの実装
- タスクのリマインダー機能
- 日次/週次レポート機能
- タスク完了時のお祝い表示


### 9.2 中期的拡張（6-12ヶ月）

- GitHub連携によるコミット情報の自動取得
- カレンダー連携（Google Calendar, Outlook）
- タスクテンプレート機能
- タイムトラッキング機能


### 9.3 長期的拡張（12ヶ月以上）

- チーム連携機能
- モバイルアプリ開発（iOS/Android）
- 高度なAI分析と予測
- サードパーティ連携（Slack, Jira, Trello）


## 10. 開発ガイドライン

### 10.1 ブランチ戦略

本プロジェクトでは以下のブランチ戦略を採用します：

1. **メインブランチ**:

1. `main` - 安定版、本番環境用
2. `develop` - 開発版、次のリリース準備用



2. **機能ブランチ**:

1. `feature/機能名` - 新機能開発用
2. `bugfix/バグID` - バグ修正用
3. `refactor/コンポーネント名` - リファクタリング用



3. **リリースブランチ**:

1. `release/vX.Y.Z` - リリース準備用



4. **ホットフィックスブランチ**:

1. `hotfix/問題名` - 緊急バグ修正用





### 10.2 コミット規約

コミットメッセージは以下の形式で記述します：

```plaintext
<タイプ>: <簡潔な説明>

<詳細な説明>
```

タイプには以下のものがあります：

- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの意味に影響を与えない変更（空白、フォーマットなど）
- `refactor`: バグ修正や機能追加ではないコード変更
- `perf`: パフォーマンス向上のための変更
- `test`: テストの追加・修正
- `chore`: ビルドプロセスやドキュメント生成などの変更


### 10.3 コーディング規約

- **TypeScript**: ESLintとPrettierを使用
- **React**: 関数コンポーネントとHooksを使用
- **CSS**: Tailwind CSSのユーティリティクラスを優先
- **テスト**: Jest + React Testing Libraryを使用


### 10.4 ドキュメント

- コンポーネントにはJSDocコメントを記述
- APIエンドポイントはSwaggerでドキュメント化
- 主要機能には使用方法のドキュメントを作成


## 11. リスク管理

### 11.1 主要リスク
1. **AIコーチング機能の精度**
- 対策: プロンプトエンジニアリングの最適化、ユーザーフィードバックの収集
2. **スケジュール遅延**
- 対策: 優先度の高い機能から段階的にリリース、スコープの調整
3. **ユーザー採用の遅れ**
- 対策: ターゲットユーザーへの直接アプローチ、早期フィードバックの収集
4. **技術的負債の蓄積**
- 対策: 定期的なリファクタリング、コードレビューの徹底
5. **セキュリティリスク**
- 対策: 定期的なセキュリティ監査、脆弱性スキャン