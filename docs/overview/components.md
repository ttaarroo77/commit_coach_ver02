---
name: "docs/overview_0/components.md"
title: "コンポーネント概要 (Components)"
description: "コミットコーチ - 主要画面/UI概要"
---


# UIコンポーネント要件定義書 (ドラフト)

## 1. 目的
- 本書は、**コミットコーチ** におけるUI設計・コンポーネント開発の要件を明確化するためのものです。
- 画面構成や主要コンポーネントの役割、動作要件、UI/UXの指針を整理し、プロジェクト内で一貫性のある実装を行えるようにすることを目的とします。

## 2. 対象範囲
- 下記の主要画面/機能を実装するために必要なUIコンポーネント全般
  1. **ダッシュボード (トップ画面)**
  2. **プロジェクト一覧/詳細画面**
  3. **コミット一覧/詳細画面**
  4. **ユーザー設定画面 (アカウント設定)**
- 共通で利用するヘッダー、フッター、モーダル、フォーム、ボタンなどの**UIパーツ** (共通コンポーネント)
- レイアウト、ルーティング構成 (Next.js Layout など) を含む全体的なUI/UXの要件

## 3. UI/UX設計方針

1. **シンプルさとわかりやすさ**  
   - プログラミング初心者を含む幅広いユーザー層を想定し、コミット履歴やプロジェクト一覧が直感的に操作できるUIを目指す。  
   - 視覚的にも情報を整理し、ユーザーが迷わない導線・階層構造を設計する。  

2. **再利用可能なコンポーネント**  
   - ボタンやモーダルなど、頻繁に使うUIは共通コンポーネントとして切り出し、保守性を高める。  
   - 各画面間でスタイルや挙動が大きく崩れないよう、デザインガイドライン(色・フォント・マージン等)を統一。

3. **レスポンシブ対応**  
   - PC/タブレット/スマートフォンで使うユーザーを想定し、レスポンシブデザインを基本とする。  
   - 主要画面はモバイル端末でも閲覧できるよう、ブレイクポイントやグリッドレイアウトなどを検討。

4. **アクセシビリティ**  
   - WAI-ARIA等のガイドラインに準拠し、キーボード操作やスクリーンリーダーで利用可能な仕組みを考慮する。  
   - 配色コントラストやフォーカス管理などの基本要件を満たすよう配慮。

## 4. 機能要件

### 4.1 ダッシュボード (トップ画面)
1. **ユーザー概要表示**  
   - ユーザー名・アバター画像・通知数を表示し、クリックでユーザー設定画面へ遷移。  
2. **プロジェクトのサマリー表示**  
   - 「最近更新されたプロジェクト」をカード形式で表示。プロジェクト名のクリックで詳細画面へ。  
3. **導線メニュー**  
   - 「プロジェクト管理」「コミット一覧」「ユーザー設定」などのメニューを配置する。  

### 4.2 プロジェクト一覧/詳細
1. **プロジェクト一覧**  
   - 全プロジェクト、またはユーザーが参加するプロジェクトを取得し、リストまたはカード形式で表示。  
   - 検索バーで名前やステータスをフィルタリング。  
   - ページネーションまたは無限スクロール(どちらを採用するか要検討)。  
2. **プロジェクト詳細**  
   - プロジェクト名、概要説明、ステータス、メンバー情報などを表示。  
   - 編集ボタンでプロジェクト情報を変更するフォーム (モーダルまたはインラインフォーム) を表示。  
   - 関連コミット一覧や最新アクティビティをタブ形式で表示する拡張も検討。

### 4.3 コミット一覧/詳細
1. **コミット一覧**  
   - 指定プロジェクトに紐づくコミット履歴を日時順に表示。  
   - コミットハッシュ、コミットメッセージ、作成日、作者情報(アバターや名前)を確認できる。  
   - 検索・フィルター (期間指定、キーワード検索など) を提供。
2. **コミット詳細**  
   - 個別のコミットメッセージ、差分 (diff) リンク、ラベル・コメント欄(拡張機能)等を表示。  
   - コミットのステータス (draft, published, reverted, etc.) を表示・変更するUIを検討。

### 4.4 ユーザー設定 (アカウント設定)
1. **プロフィール編集**  
   - ユーザー名、メールアドレス、アバター画像などを変更可能。  
   - 変更内容をAPI経由でDBに反映し、成功/失敗結果をフィードバック。  
2. **パスワード変更/連携アカウント** (拡張要件)  
   - 認証サービス (Supabase Auth, OAuth) の仕様に合わせ、パスワードリセットやSNS連携管理を提供。  
   - ユーザーのロール (admin, user) や通知設定を変更できる仕組みも将来的に追加可能。

## 5. 非機能要件
1. **パフォーマンス**  
   - 大量のコミットやプロジェクトがあってもスムーズに表示・操作できるUIを目標。  
   - 必要に応じてクライアントサイドでのキャッシュ(React Query等)やサーバーサイドのページネーションを活用。
2. **信頼性・保守性**  
   - コンポーネントの構造を把握しやすい命名規則・ディレクトリ構成を採用する (例: `src/components/common`, `src/components/project` 等)。  
   - Unitテスト / E2Eテストを取り入れ、リグレッションを最小化。
3. **可用性 (レスポンシブ、ブラウザ互換性)**  
   - 最新のChrome, Firefox, Safari, Edgeで利用できることを目標とし、IE11など古いブラウザは非対応または限定サポート。  
4. **セキュリティ**  
   - XSS対策 (HTMLエスケープ, ライブラリのバージョン管理等)。  
   - フォームのCSRF対策 (Next.jsのミドルウェアなどでトークン検証)。  

## 6. 主要コンポーネントの要件

### 6.1 共通コンポーネント (common)
- **Button**  
  - Variant (primary / secondary / danger など) とサイズ (small / medium / large) を指定可能  
  - ステート (disabled / loading) を持たせる
- **Modal**  
  - コンテンツをスロット/子要素で受け取り、共通のヘッダー/フッターレイアウトを適用  
  - 背景クリックやエスケープキーで閉じる挙動  
- **Alert**  
  - 成功/警告/エラーなどメッセージを表示する簡易コンポーネント  
  - 自動的に消える or 常時表示どちらも選べるように設計  

### 6.2 ダッシュボード系
- **DashboardLayout**  
  - サイドバーとメインコンテンツ領域を分割し、共通のダッシュボードレイアウトを提供  
  - ユーザー情報をヘッダーに表示するなどの共通要素を含む  

### 6.3 プロジェクト系
- **ProjectList**  
  - プロジェクトの一覧表示と検索バー、ステータスフィルターなどを内包  
  - ページネーションまたは無限スクロール対応  
- **ProjectCard**  
  - プロジェクト名や概要、アイコン等をカード状に表示  
  - 「詳細を見る」ボタンの押下で `ProjectDetail` へ遷移  
- **ProjectFormModal** (新規作成/編集)  
  - 名前、説明、ステータスの入力を行うフォーム  
  - バリデーション結果をユーザーにフィードバック (エラー文言表示など)

### 6.4 コミット系
- **CommitList**  
  - コミットのテーブル表示やカード表示を切り替えられる場合はUI切り替えスイッチも検討  
  - 日時やメッセージなどの基本情報を表示、クリックで詳細へ遷移  
- **CommitDetail**  
  - コミットメッセージ、差分リンク、ラベル(拡張) などの詳細情報  
  - コメントやレビュー機能を設ける場合、コメント投稿フォームを内包

### 6.5 ユーザー設定系
- **UserSettingsForm**  
  - 名前/メールアドレス/アバター画像URLなどの編集  
  - API保存処理の結果をバナーやモーダルで通知  
- **SecuritySettingsForm** (拡張)  
  - パスワード変更や2FA(二要素認証)の設定UIを提供 (要検討)

## 7. フォームバリデーション要件
- **React Hook Form** 等のライブラリを活用し、入力欄の必須チェック・文字数制限・メールフォーマットなどを実装。  
- サーバー側にも同様のバリデーションを実装し、クライアント/サーバー両面でエラーを早期検知。  

## 8. スタイルガイド要件
- **デザイントークン**(色/フォント/余白)を共有化  
  - 例: `--color-primary: #0D6EFD;` や `--spacing-small: 8px;` などを定義し、全コンポーネントが参照  
- **CSSフレームワークの選択** (Tailwind, Styled Components, Chakra UIなど)  
  - プロジェクト規模やデザイン要件に合わせて選定。  
  - 既存のデザインシステムがある場合はそれに準拠。

## 9. テスト
1. **Unitテスト**  
   - Storybook等でのスナップショットテスト、Jest/React Testing Libraryでの動作テスト  
2. **E2Eテスト**  
   - CypressやPlaywrightを用いて、主要画面(ダッシュボード、プロジェクト一覧、コミット一覧、ユーザー設定)の操作確認を行う  
3. **アクセシビリティテスト**  
   - Lighthouseやaxeなどを使い、コントラストやラベル付けなどを検証  

## 10. リリースフロー
1. **デザイン→実装→レビュー** のフロー確立  
   - Figma等でワイヤーフレーム/デザインモックを作成  
   - コンポーネントごとに実装・レビュー・テスト  
2. **ステージング環境での総合テスト**  
   - デプロイ後にUI崩れ・動作不良の有無を確認  
3. **本番リリース**  
   - リリースノート作成、マニュアル更新  
   - 新しいデザインやUI変更が重大な場合、ユーザー向けのアナウンスを検討  

## 11. 今後の拡張
- **リアルタイム表示**  
  - Supabase Realtimeなどの導入を検討し、コミット一覧やコメントを即時反映  
- **国際化 (i18n)**  
  - ユーザーが英語/UIを選択できるように多言語対応を実装  
- **アナリティクス/計測**  
  - アプリ使用状況（クリック率・滞在時間など）を分析する仕組みを導入  

## 12. 変更履歴
| 日付       | 変更内容                                       | 担当       |
|------------|------------------------------------------------|------------|
| 2025-xx-xx | 初版作成 (本ドラフト)                          | PM / 担当A |
| 2025-xx-yy | UIフレームワーク選定 (Tailwindに決定)          | 担当B      |
| 2025-xx-zz | ユーザー設定画面のセキュリティ拡張 (2FA検討)    | 担当C      |

## 13. 参考ドキュメント
- [components.md (サンプル)](./components.md)
- [Figma (UIデザインモック)](リンク例)
- [Next.js Official Docs](https://nextjs.org/docs)
- [React Hook Form Docs](https://react-hook-form.com/)

---

以上が、**コミットコーチ** のUIコンポーネントに関する要件定義書です。  
今後のスプリントでの実装・レビューを通じて、各コンポーネントの仕様や画面構成を適宜アップデートしていく方針としてください。